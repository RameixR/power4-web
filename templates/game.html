<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jeu – Puissance 4</title>
  <link rel="stylesheet" href="/css/style.css">
  <style>
    .cols {
      display: grid;
      grid-template-columns: repeat(7, 50px);
      gap: 6px;
      margin: 10px auto
    }

    .colsbouton {
      height: 30px;
      cursor: pointer
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(7, 50px);
      gap: 6px;
      background: #317AC1;
      padding: 8px;
      border-radius: 10px;
      width: max-content;
      margin: 0 auto
    }

    .case {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #e9ecefc0
    }

    .p1 {
      background: red
    }

    .p2 {
      background: yellow
    }

    .statut {
      margin-top: 12px;
      text-align: center;
      font-weight: bold
    }

    .toolbar {
      display: flex;
      gap: 8px;
      margin: 10px 0;
      justify-content: center
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Jeu</h1>

    <div class="toolbar">
      <button onclick="location.href='/'">⟵ Menu</button>
      <form method="post" action="/reset"><button type="submit">Réinitialiser</button></form>
    </div>

    <div class="cols">
      {{range .Cols}}
      <form method="post" action="/move">
        <input type="hidden" name="col" value="{{.}}">
        <button class="colsbouton" type="submit" title="Colonne {{.}}">▼</button>
      </form>
      {{end}}
    </div>

    <div class="grid">
      {{range $r, $row := .Grid}}
      {{range $c, $v := $row}}
      <div class="case{{if eq $v 1}} p1{{else if eq $v 2}} p2{{end}}"></div>
      {{end}}
      {{end}}
    </div>

    {{if .Message}}<div class="statut">{{.Message}}</div>{{end}}
  </div>
</body>

</html>